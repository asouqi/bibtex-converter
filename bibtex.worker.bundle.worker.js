!function(){"use strict";var t={},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"citation-js.bundle.worker.js"},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),function(){var t={915:1};n.f.i=function(e,r){t[e]||importScripts(n.p+n.u(e))};var e=self.webpackChunkbibtex_converter=self.webpackChunkbibtex_converter||[],r=e.push.bind(e);e.push=function(e){var a=e[0],o=e[1],c=e[2];for(var i in o)n.o(o,i)&&(n.m[i]=o[i]);for(c&&c(n);a.length;)t[a.pop()]=1;r(e)}}();var r=function(t){var e="";return t.map((function(t){var n=t.id,r=t.title,o=t.author,c=t.issued;e+="\\bibitem{".concat(n,"}");var i=function(t){return t.map((function(t){var e=t.family,n=t.given;return e&&n?"".concat(a(e),", ").concat(n.charAt(0).toUpperCase(),"."):n?a(n):e&&a(e)||""}))}(o);1===i.length?e+="".concat(i[0]," ").concat(r,". "):e+=i.slice(0,-1).join(", ")+" \\& "+i.slice(-1)[0]+" ".concat(r,". ");var s=t["container-title"];if(s){var u=t.volume,p=t.page,f=t.issue;e+="{\\em ".concat(s.split(" ").map((function(t){return a(t)})).join(" "),"}."),u&&(e+=" \\textbf{".concat(u,"}")),p&&(e+=f?", ".concat(p):" pp. ".concat(p)),c&&c["date-parts"]&&c["date-parts"].length>0&&(e+=" (".concat(c["date-parts"].toString(),")"))}var l=t.publisher;!s&&l&&(e+=c&&c["date-parts"]&&"(".concat(l,",").concat(c["date-parts"].toString(),")")||"(".concat(l,")")),c&&c["date-parts"]&&c["date-parts"].length>0&&!l&&!s&&(e+=" (".concat(c["date-parts"].toString(),")"));var d=t.URL;d&&d!==l&&(e+=", ".concat(d));var b=t.note;b&&(e+=", ".concat(b)),e+="\n"})),e},a=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};onmessage=t=>{const{input:e,format:a,style:o,csl:c}=t.data;(async function(t,e,a,o){await n.e(419).then(n.bind(n,407)),await n.e(419).then(n.bind(n,988)),await n.e(419).then(n.bind(n,941));const{Cite:c,plugins:i}=await n.e(419).then(n.bind(n,740));"apa"!==a&&"harvard"!==a&&i.config.get("@csl").templates.add(a,o);const s=c(t,{format:"string"});switch(e){case"BIB":{const t=JSON.parse(s.format("data"));return r(t)}case"XML":return JSON.parse(s.format("data"));case"PDF":case"TXT":case"CIT":case"RIS":case"HTML":case"WORD":return s.format(("RIS"===e?"ris":"CIT"===e&&"citation")||"bibliography",{format:"TXT"===e?"text":"html",template:a,lang:"en-US"})}})(e,a,o,c).then((t=>{postMessage({output:t})})).catch((()=>{postMessage({error:!0})}))}}();