(()=>{"use strict";var t={},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,a),o.exports}a.m=t,a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce((e,r)=>(a.f[r](t,e),e),[])),a.u=t=>"citation-js.bundle.worker.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={331:1};a.f.i=(e,r)=>{t[e]||importScripts(a.p+a.u(e))};var e=self.webpackChunkbibtex_converter=self.webpackChunkbibtex_converter||[],r=e.push.bind(e);e.push=e=>{var n=e[0],o=e[1],c=e[2];for(var s in o)a.o(o,s)&&(a.m[s]=o[s]);for(c&&c(a);n.length;)t[n.pop()]=1;r(e)}})();new Set(["author","editor","translator"]);const r=t=>{let e="";return t.map(t=>{const{id:a,title:r,author:o,issued:c}=t;e+="\\bibitem{".concat(a,"}");const s=(t=>t.map(t=>{const{family:e,given:a}=t;return e&&a?"".concat(n(e),", ").concat(a.charAt(0).toUpperCase(),"."):a?n(a):e&&n(e)||""}))(o);1===s.length?e+="".concat(s[0]," ").concat(r,". "):e+=s.slice(0,-1).join(", ")+" \\& "+s.slice(-1)[0]+" ".concat(r,". ");const i=t["container-title"];if(i){const{volume:a,page:r,issue:o}=t;e+="{\\em ".concat(i.split(" ").map(t=>n(t)).join(" "),"}."),a&&(e+=" \\textbf{".concat(a,"}")),r&&(e+=o?", ".concat(r):" pp. ".concat(r)),c&&c["date-parts"]&&c["date-parts"].length>0&&(e+=" (".concat(c["date-parts"].toString(),")"))}const p=t.publisher;!i&&p&&(e+=c&&c["date-parts"]&&"(".concat(p,",").concat(c["date-parts"].toString(),")")||"(".concat(p,")")),c&&c["date-parts"]&&c["date-parts"].length>0&&!p&&!i&&(e+=" (".concat(c["date-parts"].toString(),")"));const l=t.URL;l&&l!==p&&(e+=", ".concat(l));const u=t.note;u&&(e+=", ".concat(u)),e+="\n"}),e},n=t=>t.charAt(0).toUpperCase()+t.slice(1);onmessage=t=>{const{input:e,format:n,style:o,csl:c}=t.data;(async function(t,e,n,o){await a.e(992).then(a.bind(a,837)),await a.e(992).then(a.bind(a,434)),await a.e(992).then(a.bind(a,610)),await a.e(992).then(a.bind(a,290));const{Cite:c,plugins:s}=await a.e(992).then(a.bind(a,206));"apa"!==n&&"harvard"!==n&&s.config.get("@csl").templates.add(n,o);const i=c(t,{format:"string"});switch(e){case"BIB":{const t=JSON.parse(i.format("data"));return r(t)}case"WORD_XML":case"XML":return JSON.parse(i.format("data"));case"PDF":case"TXT":case"CIT":case"RIS":case"HTML":case"WORD":return i.format(("RIS"===e?"ris":"CIT"===e&&"citation")||"bibliography",{format:"TXT"===e?"text":"html",hyperlinks:!0,template:n,lang:"en-US"})}})(e,n,o,c).then(t=>{postMessage({output:t})}).catch(()=>{postMessage({error:!0})})}})();