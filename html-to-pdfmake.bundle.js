(self.webpackChunkbibtex_converter=self.webpackChunkbibtex_converter||[]).push([[909],{3587:e=>{function t(e,t){"use strict";this.wndw=t&&t.window?t.window:window,this.tableAutoSize=!(!t||"boolean"!=typeof t.tableAutoSize)&&t.tableAutoSize,this.imagesByReference=!(!t||"boolean"!=typeof t.imagesByReference)&&t.imagesByReference,this.removeExtraBlanks=!(!t||"boolean"!=typeof t.removeExtraBlanks)&&t.removeExtraBlanks,this.showHidden=!(!t||"boolean"!=typeof t.showHidden)&&t.showHidden,this.removeTagClasses=!(!t||"boolean"!=typeof t.removeTagClasses)&&t.removeTagClasses,this.ignoreStyles=t&&Array.isArray(t.ignoreStyles)?t.ignoreStyles:[];var a=Math.random().toString(36).slice(2,8);this.fontSizes=t&&Array.isArray(t.fontSizes)?t.fontSizes:[10,14,16,18,20,24,28],this.defaultStyles={b:{bold:!0},strong:{bold:!0},u:{decoration:"underline"},del:{decoration:"lineThrough"},s:{decoration:"lineThrough"},em:{italics:!0},i:{italics:!0},h1:{fontSize:24,bold:!0,marginBottom:5},h2:{fontSize:22,bold:!0,marginBottom:5},h3:{fontSize:20,bold:!0,marginBottom:5},h4:{fontSize:18,bold:!0,marginBottom:5},h5:{fontSize:16,bold:!0,marginBottom:5},h6:{fontSize:14,bold:!0,marginBottom:5},a:{color:"blue",decoration:"underline"},strike:{decoration:"lineThrough"},p:{margin:[0,5,0,10]},ul:{marginBottom:5,marginLeft:5},table:{marginBottom:5},th:{bold:!0,fillColor:"#EEEEEE"}},this.imagesRef=[],this.changeDefaultStyles=function(){for(var e in t.defaultStyles)if(this.defaultStyles.hasOwnProperty(e))if(t.defaultStyles.hasOwnProperty(e)&&!t.defaultStyles[e])delete this.defaultStyles[e];else for(var a in t.defaultStyles[e])""===t.defaultStyles[e][a]?delete this.defaultStyles[e][a]:this.defaultStyles[e][a]=t.defaultStyles[e][a];else for(var r in this.defaultStyles[e]={},t.defaultStyles[e])this.defaultStyles[e][r]=t.defaultStyles[e][r]},t&&t.defaultStyles&&this.changeDefaultStyles(),this.convertHtml=function(e){var t=new this.wndw.DOMParser;this.removeExtraBlanks&&(e=e.replace(/(<\/?(div|p|h1|h2|h3|h4|h5|h6|ol|ul|li)([^>]+)?>)\s+(<\/?(div|p|h1|h2|h3|h4|h5|h6|ol|ul|li))/gi,"$1$4").replace(/(<\/?(div|p|h1|h2|h3|h4|h5|h6|ol|ul|li)([^>]+)?>)\s+(<\/?(div|p|h1|h2|h3|h4|h5|h6|ol|ul|li))/gi,"$1$4").replace(/(<td([^>]+)?>)\s+(<table)/gi,"$1$3").replace(/(<\/table>)\s+(<\/td>)/gi,"$1$2"));var a=t.parseFromString(e,"text/html"),r=this.parseElement(a.body,[]);return r.stack||r.text},this.parseElement=function(e,r){var i,s,o,n,l=e.nodeName.toUpperCase(),c=l.toLowerCase(),h={text:[]},u=this;if(["COLGROUP","COL"].indexOf(l)>-1)return"";switch(e.nodeType){case 3:if(e.textContent){i=e.textContent;var f=this.parseStyle(r[r.length-1],!0),d=r.findIndex(function(e){return"PRE"===e.nodeName})>-1;for(o=0;o<f.length;o++)if("preserveLeadingSpaces"===f[o].key){d=f[o].value;break}if(d||(i=i.replace(/\s*\n\s*/g," ")),t&&"function"==typeof t.replaceText&&(i=t.replaceText(i,r)),["TABLE","THEAD","TBODY","TFOOT","TR","UL","OL"].indexOf(r[r.length-1].nodeName)>-1&&(i=i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),i)return h={text:i},h=this.applyStyle({ret:h,parents:r})}return"";case 1:if(!this.showHidden&&e.style.display&&"none"===e.style.display||e.style.visibility&&"hidden"===e.style.visibility)return;switch(h.nodeName=l,e.id&&(h.id=e.id),r.push(e),e.childNodes&&e.childNodes.length>0&&([].forEach.call(e.childNodes,function(e){var t=u.parseElement(e,r);t&&(Array.isArray(t.text)&&0===t.text.length&&(t.text=""),h.text.push(t))}),this.searchForStack(h)?(h.stack=h.text.slice(0),delete h.text):h=this.applyStyle({ret:h,parents:r})),r.pop(),l){case"TABLE":var p;h.table={body:[]};var y=h.stack||h.text;if(Array.isArray(y)){p=0;var g=!1;if(y.forEach(function(e){var t=e.stack||e.text;Array.isArray(t)&&t.forEach(function(e){var t=e.stack||e.text;Array.isArray(t)&&(h.table.body[p]=[],t.forEach(function(e){if(h.table.body[p].push(e),e.colSpan>1)for(o=e.colSpan;--o>0;)h.table.body[p].push({text:""});e.rowSpan>1&&(g=!0)}),p++)})}),g){var b=h.table.body[0];if(Array.isArray(b))for(var m=b.length,v=h.table.body.length,k=0;k<m;k++)for(var x=0;x<v;x++){var S=h.table.body[x];if(Array.isArray(S)){var A=S[k];if(A.rowSpan>1){for(var w,O=A.rowSpan,T=A.colSpan?A.colSpan:1,C=1;C<=O-1;C++)if(w=T,h.table.body[x+C])for(;w--;)h.table.body[x+C].splice(k,0,{text:""});else A.rowSpan--;x+=O-1}}}}}if(delete h.stack,delete h.text,h=this.applyStyle({ret:h,parents:r.concat([e])}),this.tableAutoSize){var E=[],L=[],N=[],z=[],B="100%"===e.getAttribute("width")||"100%"===e.style.width,R=e.getAttribute("width")||"",$=(e.style.width||R).endsWith("%");if($)var U=(e.style.width||R).replace(/[^0-9.]/g,"");for(var H=!1,M=-1,F=0;F<e.children.length;F++){var I=e.children[F];H||M++,"COLGROUP"===I.nodeName.toUpperCase()&&(H=!0)}h.table.body.forEach(function(t,a){E.push([]),L.push([]),t.forEach(function(t,r){var i=void 0!==t.width?t.width:"auto";"*"===i&&(i="auto");var s=void 0!==t.height?t.height:"auto";if("*"===s&&(s="auto"),"auto"!==i&&t.colSpan>1&&(isNaN(i)?i="auto":i/=t.colSpan),"auto"!==s&&t.rowSpan>1&&(isNaN(s)?s="auto":s/=t.rowSpan),H){var o=e.children[M].children[r];if(o){var n=o.getAttribute("width")||"",l=o.style.width;(n||l).endsWith("%")&&(i=n||l)}}E[a].push(i),L[a].push(s)})}),E.forEach(function(e){e.forEach(function(t,a){var r=typeof N[a];if("undefined"===r||"auto"!==t&&"number"===r&&t>N[a]||"auto"!==t&&"auto"===N[a]){if($){var i="auto"===t?U/e.length:t.toString().replace("%","")*U/100;t=String(i)+"%"}N[a]=t}})}),L.forEach(function(e,t){e.forEach(function(e){var a=typeof z[t];("undefined"===a||"auto"!==e&&"number"===a&&e>z[t]||"auto"!==e&&"auto"===z[t])&&(z[t]=e)})}),N.length>0&&(B&&(N=N.map(function(e){return"auto"===e?"*":e})),h.table.widths=N),z.length>0&&(h.table.heights=z)}if(e.dataset&&e.dataset.pdfmake){s=e.dataset.pdfmake.replace(/'/g,'"');try{for(n in s=JSON.parse(s))"layout"===n?h.layout=s[n]:h.table[n]=s[n]}catch(e){console.error(e)}}break;case"TH":case"TD":e.getAttribute("rowspan")&&(h.rowSpan=1*e.getAttribute("rowspan")),e.getAttribute("colspan")&&(h.colSpan=1*e.getAttribute("colspan")),h=this.applyStyle({ret:h,parents:r.concat([e])});break;case"SVG":h={svg:e.outerHTML.replace(/\n(\s+)?/g,""),nodeName:"SVG"},this.removeTagClasses||(h.style=["html-svg"]);break;case"BR":h.text=[{text:"\n"}];break;case"SUB":case"SUP":h[l.toLowerCase()]={offset:"30%",fontSize:8};break;case"HR":var D={width:514,type:"line",margin:[0,12,0,12],thickness:.5,color:"#000000",left:0};if(e.dataset&&e.dataset.pdfmake){s=e.dataset.pdfmake.replace(/'/g,'"');try{for(n in s=JSON.parse(s))D[n]=s[n]}catch(e){console.error(e)}}h.margin=D.margin,h.canvas=[{type:D.type,x1:D.left,y1:0,x2:D.width,y2:0,lineWidth:D.thickness,lineColor:D.color}],delete h.text;break;case"OL":case"UL":switch(h[c]=(h.stack||h.text).slice(0),delete h.stack,delete h.text,h=this.applyStyle({ret:h,parents:r.concat([e])}),e.getAttribute("start")&&(h.start=1*e.getAttribute("start")),e.getAttribute("type")){case"A":h.type="upper-alpha";break;case"a":h.type="lower-alpha";break;case"I":h.type="upper-roman";break;case"i":h.type="lower-roman"}(h.listStyle||h.listStyleType)&&(h.type=h.listStyle||h.listStyleType);break;case"LI":h.stack&&!h.stack[h.stack.length-1].text&&(i=h.stack.slice(0,-1),h=[{text:i},h.stack[h.stack.length-1]]),Array.isArray(h)&&(h={stack:h});break;case"PRE":h.preserveLeadingSpaces=!0;break;case"IMG":if(this.imagesByReference){var P=e.getAttribute("data-src")||e.getAttribute("src"),G=this.imagesRef.indexOf(P);G>-1?h.image="img_ref_"+a+G:(h.image="img_ref_"+a+this.imagesRef.length,this.imagesRef.push(P))}else h.image=e.getAttribute("src");delete h.stack,delete h.text,h=this.applyStyle({ret:h,parents:r.concat([e])});break;case"A":var _=function(e,t){return e=e||{text:""},Array.isArray(e.text)?(e.text=e.text.map(function(e){return _(e,t)}),e):Array.isArray(e.stack)?(e.stack=e.stack.map(function(e){return _(e,t)}),e):(0===t.indexOf("#")?e.linkToDestination=t.slice(1):e.link=t,e)};e.getAttribute("href")&&(h=_(h,e.getAttribute("href")),Array.isArray(h.text)&&1===h.text.length&&(h=h.text[0]),h.nodeName="A");break;default:"DIV"===l&&e.dataset&&"columns"===e.dataset.pdfmakeType?h.stack&&(h.columns=h.stack,delete h.stack):t&&"function"==typeof t.customTag&&(h=t.customTag.call(this,{element:e,parents:r,ret:h}))}if(Array.isArray(h.text)&&1===h.text.length&&h.text[0].text&&!h.text[0].nodeName&&(h.text=h.text[0].text),(r.length>0&&"LI"===r[r.length-1].nodeName||"LI"===l)&&(Array.isArray(h.text)&&0===h.text.length||"string"==typeof h.text&&""===h.text)&&(h.text=" "),-1===["HR","TABLE"].indexOf(l)&&e.dataset&&e.dataset.pdfmake){s=e.dataset.pdfmake.replace(/'/g,'"');try{for(n in s=JSON.parse(s))h[n]=s[n]}catch(e){console.error(e)}}return h}},this.searchForStack=function(e){if(Array.isArray(e.text))for(var t=0;t<e.text.length;t++){if(e.text[t].stack||["P","DIV","TABLE","SVG","UL","OL","IMG","H1","H2","H3","H4","H5","H6"].indexOf(e.text[t].nodeName)>-1)return!0;if(!0===this.searchForStack(e.text[t]))return!0}return!1},this.applyStyle=function(e){var t=[],a=e.parents.length-1,r=this;return e.parents.forEach(function(i,s){var o,n=i.nodeName.toLowerCase();if(!r.removeTagClasses){var l="html-"+n;"html-body"!==l&&-1===t.indexOf(l)&&t.unshift(l)}(i.getAttribute("class")||"").split(" ").forEach(function(e){e&&t.push(e)});var c=s!==a;if(r.defaultStyles[n])for(o in r.defaultStyles[n])r.defaultStyles[n].hasOwnProperty(o)&&(!c||c&&-1===o.indexOf("margin")&&-1===o.indexOf("border"))&&("decoration"===o?(Array.isArray(e.ret[o])||(e.ret[o]=[]),r.defaultStyles[n][o]&&-1===e.ret[o].indexOf(r.defaultStyles[n][o])&&e.ret[o].push(r.defaultStyles[n][o])):e.ret[o]=JSON.parse(JSON.stringify(r.defaultStyles[n][o])));"tr"===n&&(c=!1),(o=r.parseStyle(i,c)).forEach(function(t){if("decoration"===t.key)Array.isArray(e.ret[t.key])||(e.ret[t.key]=[]),e.ret[t.key].push(t.value);else if(["UL","OL"].includes(e.ret.nodeName)&&"alignment"===t.key);else if(e.ret.margin&&0===t.key.indexOf("margin"))switch(t.key){case"marginLeft":e.ret.margin[0]=t.value;break;case"marginTop":e.ret.margin[1]=t.value;break;case"marginRight":e.ret.margin[2]=t.value;break;case"marginBottom":e.ret.margin[3]=t.value}else e.ret[t.key]=t.value})}),t.length>0&&(e.ret.style=t),e.ret},this.borderValueRearrange=function(e){try{var t=e.split(" ");if(3!==t.length)return e;var a="0px",r="none",i="transparent",s=["dotted","dashed","solid","double","groove","ridge","inset","outset","none","hidden","mix"];return t.forEach(function(e){e.match(/^\d/)?a=e:s.indexOf(e)>-1?r=e:i=e}),a+" "+r+" "+i}catch(t){return e}},this.parseStyle=function(e,t){var a=e.getAttribute("style")||"",r=[];a=a.replace(/!important/g,"").split(";");var i=e.getAttribute("width"),s=e.getAttribute("height");i&&a.unshift("width:"+this.convertToUnit(i+(isNaN(i)?"":"px"))),s&&a.unshift("height:"+this.convertToUnit(s+(isNaN(s)?"":"px")));var o=e.getAttribute("color");o&&r.push({key:"color",value:this.parseColor(o).color});var n=e.getAttribute("size");null!==n&&(n=Math.min(Math.max(1,parseInt(n)),7),r.push({key:"fontSize",value:Math.max(this.fontSizes[0],this.fontSizes[n-1])}));var l=a.map(function(e){return e.toLowerCase().split(":")}),c=[],h=e.nodeName.toUpperCase(),u=this;if(l.forEach(function(e){if(2===e.length){var a,i=e[0].trim().toLowerCase(),s=e[1].trim();if(-1===u.ignoreStyles.indexOf(i))switch(i){case"margin":if(t)break;1===(s=s.split(" ")).length?s=[s[0],s[0],s[0],s[0]]:2===s.length?s=[s[1],s[0]]:3===s.length?s=[s[1],s[0],s[1],s[2]]:4===s.length&&(s=[s[3],s[0],s[1],s[2]]),s.forEach(function(e,t){s[t]="auto"===e?"":u.convertToUnit(e)}),-1===s.indexOf(!1)&&r.push({key:i,value:s});break;case"line-height":s="string"==typeof s&&"%"===s.slice(-1)?s.slice(0,-1)/100:u.convertToUnit(s),r.push({key:"lineHeight",value:s});break;case"text-align":r.push({key:"alignment",value:s});break;case"font-weight":"bold"===s||s>=700?r.push({key:"bold",value:!0}):r.push({key:"bold",value:!1});break;case"text-decoration":s=u.toCamelCase(s),["underline","lineThrough","overline"].includes(s)&&r.push({key:"decoration",value:s});break;case"font-style":"italic"===s&&r.push({key:"italics",value:!0});break;case"font-family":r.push({key:"font",value:s.split(",")[0].replace(/"|^'|^\s*|\s*$|'$/g,"").replace(/^([a-z])/g,function(e){return e[0].toUpperCase()}).replace(/ ([a-z])/g,function(e){return e[1].toUpperCase()})});break;case"color":a=u.parseColor(s),r.push({key:"color",value:a.color}),a.opacity<1&&r.push({key:"opacity",value:a.opacity});break;case"background-color":"transparent"!==(a=u.parseColor(s)).color&&(r.push({key:"TD"===h||"TH"===h?"fillColor":"background",value:a.color}),a.opacity<1&&r.push({key:"TD"===h||"TH"===h?"fillOpacity":"opacity",value:a.opacity}));break;case"text-indent":r.push({key:"leadingIndent",value:u.convertToUnit(s)});break;case"white-space":"nowrap"===s?r.push({key:"noWrap",value:!0}):r.push({key:"preserveLeadingSpaces",value:"break-spaces"===s||"pre"===s.slice(0,3)});break;default:if(0===i.indexOf("border"))t||c.push({key:i,value:s});else{if(t&&(0===i.indexOf("margin-")||"width"===i||"height"===i))break;if("IMG"===h&&("width"===i||"height"===i)){r.push({key:i,value:u.convertToUnit(s)});break}if(0===i.indexOf("padding"))break;if(i.indexOf("-")>-1&&(i=u.toCamelCase(i)),s){var o=u.convertToUnit(s);if("fontSize"===i&&!1===o){if(!["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"].includes(s))break;switch(s){case"xx-small":s=7.2;break;case"x-small":s=9;break;case"small":s=10.7;break;case"medium":s=12;break;case"large":s=14.4;break;case"x-large":s=18;break;case"xx-large":s=24;break;case"xxx-large":s=36}}if(0===i.indexOf("margin")&&"auto"===s)break;r.push({key:i,value:!1===o?s:o})}}}}}),c.length>0){var f=[],d=[];c.forEach(function(e){var t,a=-1;e.key.indexOf("-left")>-1?a=0:e.key.indexOf("-top")>-1?a=1:e.key.indexOf("-right")>-1?a=2:e.key.indexOf("-bottom")>-1&&(a=3);var r,i,s=e.key.split("-");if(1===s.length||2===s.length&&a>=0){if(e.value=u.borderValueRearrange(e.value),i=(r=e.value.split(" "))[0].replace(/(\d*)(\.\d+)?([^\d]+)/g,"$1$2 ").trim(),a>-1)f[a]=i>0;else for(t=0;t<4;t++)f[t]=i>0;if(r.length>2){var o=r.slice(2).join(" ");if(a>-1)d[a]=u.parseColor(o).color;else for(t=0;t<4;t++)d[t]=u.parseColor(o).color}}else a>=0&&"color"===s[2]?d[a]=u.parseColor(e.value).color:a>=0&&"width"===s[2]?f[a]=!/^0[a-z%]*$/.test(String(e.value)):"border-color"===e.key?(r=u.topRightBottomLeftToObject(e.value),d=[u.parseColor(r.left).color,u.parseColor(r.top).color,u.parseColor(r.right).color,u.parseColor(r.bottom).color]):"border-width"===e.key&&(r=u.topRightBottomLeftToObject(e.value),f=[!/^0[a-z%]*$/.test(r.left),!/^0[a-z%]*$/.test(r.top),!/^0[a-z%]*$/.test(r.right),!/^0[a-z%]*$/.test(r.bottom)])});for(var p=0;p<4;p++)f.length>0&&void 0===f[p]&&(f[p]=!0),d.length>0&&void 0===d[p]&&(d[p]="#000000");f.length>0&&r.push({key:"border",value:f}),d.length>0&&r.push({key:"borderColor",value:d})}return r},this.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},this.topRightBottomLeftToObject=function(e){var t=e.match(/#[0-9a-fA-F]{3,6}|\b(?:rgba?|hsla?)\([^)]*\)|\b[a-zA-Z]+\b/g)||[],a=t[0],r=t[1],i=t[2],s=t[3];switch(t.length){case 1:r=i=s=a;break;case 2:i=a,s=r;break;case 3:s=r}return{top:a,right:r,bottom:i,left:s}},this.hsl2rgb=function(e,t,a){var r=t*Math.min(a,1-a),i=function(t){var i=(t+e/30)%12;return Math.min(Math.floor(256*(a-r*Math.max(Math.min(i-3,9-i,1),-1))),255)};return"rgb("+i(0)+","+i(8)+","+i(4)+")"},this.parseColor=function(e){var t,a,r,i=1,s=new RegExp("^#([0-9a-f]{3}|[0-9a-f]{6})$","i"),o=/^rgba?\(\s*(\d+(\.\d+)?%?),\s*(\d+(\.\d+)?%?),\s*(\d+(\.\d+)?%?)(,\s*\d+(\.\d+)?)?\)$/,n=new RegExp("^hsl\\((\\d+(\\.\\d+)?%?),\\s*(\\d+(\\.\\d+)?%?),\\s*(\\d+(\\.\\d+)?%?)\\)$"),l=new RegExp("^[a-z]+$","i"),c=[];return s.test(e)?{color:e,opacity:i}:(n.test(e)&&(a=(t=n.exec(e).slice(1))[0].endsWith("%")?360*t[0].slice(0,-1)/100:1*t[0],c.push(a),c.push(t[2].slice(0,-1)/100),c.push(t[4].slice(0,-1)/100),e=this.hsl2rgb(c[0],c[1],c[2]),c=[]),o.test(e)?((t=o.exec(e).slice(1).filter(function(e,t){return t%2==0&&void 0!==e})).forEach(function(e,t){3===t?i=1*e.slice(1):(e.endsWith("%")?e=Math.round(255*e.slice(0,-1)/100):e*=1,e>255&&(e=255),r=(r="0"+e.toString(16)).slice(-2),c.push(r))}),{color:"#"+c.join(""),opacity:i}):(l.test(e)||console.error('Could not parse color "'+e+'"'),{color:e,opacity:i}))},this.convertToUnit=function(e){if(!isNaN(parseFloat(e))&&isFinite(e))return 1*e;var t=(e+"").trim().match(/^(-?\d*(\.\d+)?)(pt|px|r?em|cm|in)$/);if(!t)return!1;switch(e=t[1],t[3]){case"px":e=Math.round(.75292857248934*e);break;case"em":case"rem":e*=12;break;case"cm":e=Math.round(28.34646*e);break;case"in":e*=72}return 1*e};var r=this.convertHtml(e);return"string"==typeof r&&(r={text:r}),this.imagesByReference&&(r={content:r,images:{}},this.imagesRef.forEach(function(e,t){r.images["img_ref_"+a+t]=e.startsWith("{")?JSON.parse(e):e})),r}e.exports=function(e,a){return new t(e,a)}}}]);